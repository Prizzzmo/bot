
# Руководство по администраторской панели

## Содержание

1. [Обзор](#обзор)
2. [Доступ к панели администратора](#доступ-к-панели-администратора)
3. [Уровни доступа](#уровни-доступа)
4. [Основные функции](#основные-функции)
   - [Статистика](#статистика)
   - [Управление администраторами](#управление-администраторами)
   - [Просмотр логов](#просмотр-логов)
   - [Перезапуск бота](#перезапуск-бота)
   - [Настройки бота](#настройки-бота)
   - [Техническое обслуживание](#техническое-обслуживание)
5. [Дополнительные функции](#дополнительные-функции)
   - [Управление темами](#управление-темами)
   - [Управление тестами](#управление-тестами)
   - [Управление аналитикой](#управление-аналитикой)
6. [Рекомендации по безопасности](#рекомендации-по-безопасности)
7. [Устранение неисправностей](#устранение-неисправностей)

## Обзор

Административная панель предоставляет интерфейс для управления образовательным ботом по истории России. Панель доступна только для авторизованных администраторов и позволяет контролировать все аспекты работы бота, включая управление пользователями, темами, тестами, настройками и статистикой.

## Доступ к панели администратора

Для доступа к панели администратора необходимо:

1. Отправить боту команду `/admin`
2. Бот автоматически проверит ваши права доступа
3. В случае успешной авторизации, бот отобразит меню административной панели

Если вы видите сообщение "У вас нет прав администратора", обратитесь к супер-администратору для получения доступа.

## Уровни доступа

В системе предусмотрено два уровня административного доступа:

1. **Администратор** - имеет базовые права администрирования:
   - Просмотр статистики
   - Просмотр логов
   - Перезапуск бота

2. **Супер-администратор** - имеет полные права администрирования:
   - Все права обычного администратора
   - Управление списком администраторов
   - Настройка параметров бота
   - Выполнение технического обслуживания
   - Управление темами и тестами
   - Доступ к расширенной аналитике

## Основные функции

### Статистика

Раздел статистики предоставляет обзор ключевых показателей работы бота:

- Количество уникальных пользователей
- Общее количество сообщений
- Время работы бота
- Активность за последние 24 часа
- Количество запросов тем и пройденных тестов

Эти данные помогают оценить популярность бота и эффективность образовательного контента.

### Управление администраторами

Этот раздел позволяет супер-администраторам управлять списком администраторов системы:

- Просмотр списка администраторов и супер-администраторов
- Добавление новых администраторов
- Добавление новых супер-администраторов
- Удаление администраторов

Для добавления администратора нужно указать его Telegram ID. Удалить супер-администратора может только другой супер-администратор.

### Просмотр логов

Раздел логов позволяет просматривать последние события системы, что полезно для отладки и мониторинга:

- Отображаются последние 100 записей логов
- Логи содержат информацию о времени, уровне, модуле и описании события
- При большом объеме, логи разбиваются на несколько сообщений

### Перезапуск бота

Функция перезапуска позволяет перезагрузить бота в случае необходимости:

- Требует подтверждения действия
- Приводит к кратковременной недоступности бота
- После перезапуска все настройки сохраняются

### Настройки бота

Настройки бота позволяют супер-администраторам изменять параметры работы системы:

- Автоматическое обновление тем
- Сбор статистики
- Режим разработчика
- Приватный режим

Изменения настроек вступают в силу немедленно и сохраняются между перезапусками.

### Техническое обслуживание

Раздел технического обслуживания предоставляет инструменты для управления данными и производительностью:

- Очистка кэша для освобождения памяти
- Создание резервных копий данных
- Обновление данных из API
- Очистка устаревших логов

## Дополнительные функции

### Управление темами

Раздел управления темами позволяет контролировать образовательный контент:

- Добавление новых исторических тем
- Просмотр списка всех доступных тем
- Поиск тем по ключевым словам
- Обновление тем из внешнего API

Для добавления новой темы нужно указать её название и краткое описание в формате "Название | Описание".

### Управление тестами

Раздел управления тестами позволяет настраивать параметры тестирования:

- Настройка количества вопросов
- Установка времени на ответ
- Регулировка сложности тестов
- Просмотр статистики прохождения
- Предпросмотр тестовых вопросов
- Очистка кэша тестов

### Управление аналитикой

Раздел управления аналитикой предоставляет расширенные данные об использовании бота:

- Анализ активности пользователей
- Оценка популярности тем
- Детальная статистика тестирования
- Экспорт аналитических данных
- Настройка параметров сбора данных

## Рекомендации по безопасности

Для обеспечения безопасности администраторской панели рекомендуется:

1. Не передавать права супер-администратора большому числу пользователей
2. Регулярно проверять список администраторов на наличие неактивных учетных записей
3. При подозрении на компрометацию учетной записи немедленно удалить соответствующего администратора
4. Не оставлять административную панель открытой на устройствах с общим доступом

## Устранение неисправностей

Если вы столкнулись с проблемами при использовании административной панели:

1. **Проблема**: Нет доступа к админ-панели
   **Решение**: Проверьте свой ID в системе. Возможно, вас удалили из списка администраторов.

2. **Проблема**: Ошибки при выполнении административных действий
   **Решение**: Проверьте логи системы для выявления причин ошибок.

3. **Проблема**: Зависание бота при выполнении административных действий
   **Решение**: Попробуйте перезапустить бота через команду `/admin` и выбрав соответствующий пункт меню.

4. **Проблема**: Недоступность некоторых функций
   **Решение**: Убедитесь, что вы имеете права супер-администратора для доступа к расширенному функционалу.
