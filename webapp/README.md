
# История России на карте - Telegram Web App

Это интерактивная веб-карта исторических событий России, разработанная как Telegram Web App. Приложение отображает исторические события из базы данных на карте, позволяя фильтровать их по категориям и временным периодам.

## Структура проекта

- `index.html` - основной HTML-файл
- `styles.css` - стили приложения
- `app.js` - логика JavaScript
- `server.py` - сервер для обработки запросов API
- `bot_integration.py` - интеграция с Telegram ботом

## Запуск приложения

1. Запустите сервер:
   ```
   python server.py
   ```

2. Приложение будет доступно по адресу: `http://0.0.0.0:8080`

## Интеграция с ботом

Для интеграции с вашим Telegram ботом используйте файл `bot_integration.py`. 
Пример использования:

```python
from webapp.bot_integration import get_webapp_keyboard

@dp.message_handler(commands=['map', 'карта'])
async def cmd_open_map(message: types.Message):
    await message.answer(
        "Нажмите на кнопку ниже, чтобы открыть интерактивную карту исторических событий России:",
        reply_markup=get_webapp_keyboard()
    )
```

## Особенности

- Использование Telegram Web App API для интеграции с Telegram
- Автоматическое применение цветовой схемы Telegram (светлая/темная)
- Фильтрация событий по категориям и векам
- Кластеризация маркеров для удобства навигации по карте
- Детальный просмотр информации о событиях

После деплоя приложения в Replit, обновите URL в файле `bot_integration.py`, 
заменив `REPL_ID.id.repl.co` на ваш актуальный URL.
